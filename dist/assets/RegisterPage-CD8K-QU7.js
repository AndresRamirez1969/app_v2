import{_ as U}from"./tasker-logo-DpT6Moec.js";import{z as q,A,J as l,c as y,ah as B,w as p,a as r,R as d,C as m,f as F,e as V,am as N,Z as T,o as C,_ as w,d as t,a9 as z,a6 as $}from"./index-BtdFDd_C.js";import{b as j,I as L}from"./mdi-CCqP_oQm.js";const O=q({__name:"AuthRegister",setup(k){const g=T(),s=A(),n=l(!1),i=l(!1),c=l(""),f=l(""),u=l(""),v=l(""),b=j,x=L,R=[e=>!!e||"El nombre es obligatorio"],_=[e=>!!e||"El correo es obligatorio",e=>/.+@.+\..+/.test(e)||"Correo no válido"],I=[e=>!!e||"La contraseña es obligatoria"],P=[e=>!!e||"Confirma la contraseña",e=>e===u.value||"Las contraseñas no coinciden"],E=async()=>{try{const e=await N.post("/register",{name:c.value,email:f.value,password:u.value,password_confirmation:v.value});s.loginWithTokenAndUser(e.data.access_token||e.data.token,e.data.user,e.data.permissions||[]),g.push("/dashboard")}catch(e){console.error("Error en registro:",e)}};return(e,a)=>(C(),y(B,{class:"mt-7 loginForm"},{default:p(()=>[r(d,{modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=o=>c.value=o),rules:R,label:"Nombre",required:"",variant:"outlined",color:"primary",class:"mb-4"},null,8,["modelValue"]),r(d,{modelValue:f.value,"onUpdate:modelValue":a[1]||(a[1]=o=>f.value=o),rules:_,label:"Correo",required:"",variant:"outlined",color:"primary",class:"mb-4"},null,8,["modelValue"]),r(d,{modelValue:u.value,"onUpdate:modelValue":a[2]||(a[2]=o=>u.value=o),rules:I,label:"Contraseña",type:n.value?"text":"password",required:"",variant:"outlined",color:"primary",class:"mb-4","append-inner-icon":n.value?m(b):m(x),"onClick:appendInner":a[3]||(a[3]=o=>n.value=!n.value)},null,8,["modelValue","type","append-inner-icon"]),r(d,{modelValue:v.value,"onUpdate:modelValue":a[4]||(a[4]=o=>v.value=o),rules:P,label:"Confirmar Contraseña",type:i.value?"text":"password",required:"",variant:"outlined",color:"primary",class:"mb-4","append-inner-icon":i.value?m(b):m(x),"onClick:appendInner":a[5]||(a[5]=o=>i.value=!i.value)},null,8,["modelValue","type","append-inner-icon"]),r(F,{color:"primary",block:"",class:"mt-4",variant:"flat",size:"large",onClick:E},{default:p(()=>a[6]||(a[6]=[V(" Crear Cuenta ")])),_:1})]),_:1}))}}),h=w(O,[["__scopeId","data-v-818f95b9"]]),J={class:"right-panel d-flex align-center justify-center"},S={__name:"RegisterPage",setup(k){return(g,s)=>(C(),y($,{fluid:"",class:"register-container d-flex pa-0",style:{height:"100vh"}},{default:p(()=>[s[4]||(s[4]=t("div",{class:"left-panel"},null,-1)),t("div",J,[r(z,{elevation:"0",class:"pa-8 d-flex flex-column justify-center register-card",style:{width:"600px","min-height":"600px"}},{default:p(()=>[s[0]||(s[0]=t("div",{class:"text-center mb-6"},[t("img",{src:U,alt:"Tasker logo",class:"tasker-logo"})],-1)),s[1]||(s[1]=t("h3",{class:"h4 text-center font-weight-bold mb-4"},"Registro",-1)),s[2]||(s[2]=t("p",{class:"text-subtitle-3 text-center mb-8"},"Completa el formulario para crear tu cuenta",-1)),r(h),s[3]||(s[3]=t("div",{class:"text-center mt-6"},[t("small",{style:{"font-size":"0.95rem"}},[V(" ¿Ya tienes una cuenta? "),t("a",{href:"/login"},"Inicia sesión")])],-1))]),_:1})])]),_:1}))}},D=w(S,[["__scopeId","data-v-8120166e"]]);export{D as default};
