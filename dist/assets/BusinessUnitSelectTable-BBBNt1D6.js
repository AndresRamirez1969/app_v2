import{_ as S,s as r,o,u as p,c as d,l as b,v as w,w as s,a as i,V as k,b as f,b1 as V,a2 as C,d as l,Q as x,t as c,e as L,am as M,N as B,ab as $,ap as N,ao as j}from"./index-mAfd8qbF.js";import{_ as P}from"./StatusChip-ejlLwmE5.js";const z={class:"logo-container-mobile"},A=["src"],T={class:"d-flex align-center mb-1",style:{"justify-content":"space-between"}},D={class:"text-caption",style:{"margin-right":"8px"}},F={class:"font-weight-medium mb-1"},E={class:"text-caption"},I=["onClick"],R={class:"text-center uniform-col",style:{"padding-left":"0","padding-right":"8px"}},Q={class:"d-flex justify-center align-center",style:{height:"100%"}},q={class:"text-center uniform-col"},G={class:"text-center uniform-col"},H=["src"],J={class:"text-center uniform-col"},K={class:"text-center uniform-col"},O={class:"text-center uniform-col"},W={class:"text-center uniform-col"},X={key:0},Y={__name:"BusinessUnitSelectTable",props:{items:{type:Array,default:()=>[]},page:Number,itemsPerPage:{type:Number,default:10},sortBy:String,sortDesc:Boolean,selectedBusinessUnits:Array,total:Number,error:Boolean,isMobile:{type:Boolean,default:!1}},emits:["update:page","sort","toggle"],setup(a,{emit:U}){const m=a,g=U;function u(n){var e;return(e=m.selectedBusinessUnits)==null?void 0:e.includes(n)}function _(n,e){e&&(e.target.closest(".checkbox-compact")||e.target.tagName==="INPUT"||e.target.tagName==="LABEL")||g("toggle",n.id)}function y(n){g("sort",n)}function v(n){g("update:page",n)}return(n,e)=>(o(),r("div",null,[a.isMobile?(o(),r(p,{key:0},[(o(!0),r(p,null,w(a.items,t=>(o(),d($,{key:t.id,class:B(["mb-4 pa-3 elevation-1 rounded-lg row-clickable",{"selected-row":u(t.id)}]),onClick:()=>g("toggle",t.id),style:M({cursor:"pointer",border:u(t.id)?"2px solid #1976d2":"1px solid #eee"})},{default:s(()=>[i(k,{"no-gutters":"",align:"center",class:"mb-1"},{default:s(()=>[i(f,{cols:"2",class:"d-flex justify-center align-center"},{default:s(()=>[i(V,{"model-value":u(t.id),"onUpdate:modelValue":h=>g("toggle",t.id),color:"primary","hide-details":"",ripple:!1,class:"pa-0 ma-0 checkbox-compact",style:{"--v-checkbox-bg":"#1976d2","--v-checkbox-checked-color":"#fff"},onClick:e[0]||(e[0]=C(()=>{},["stop"]))},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),i(f,{cols:"3",class:"d-flex justify-start align-center"},{default:s(()=>[l("div",z,[t.logo?(o(),d(x,{key:0,class:"logo-avatar-mobile",color:"grey lighten-2"},{default:s(()=>[l("img",{src:t.logo,alt:"Logo",class:"logo-img-cover"},null,8,A)]),_:2},1024)):(o(),d(x,{key:1,class:"logo-avatar-mobile",color:"grey lighten-2"},{default:s(()=>e[8]||(e[8]=[l("span",{style:{"font-size":"12px",color:"#888"}},"Sin logo",-1)])),_:1}))])]),_:2},1024),i(f,{cols:"7"},{default:s(()=>[l("div",T,[l("div",D,c(t.folio),1),i(P,{status:t.status},null,8,["status"])]),l("div",F,c(t.legal_name),1),l("div",E,[e[9]||(e[9]=l("strong",null,"Dirección:",-1)),L(" "+c(t.addressFormatted),1)])]),_:2},1024)]),_:2},1024)]),_:2},1032,["class","onClick","style"]))),128)),Math.ceil(a.total/a.itemsPerPage)>1?(o(),d(k,{key:0},{default:s(()=>[i(f,{class:"d-flex justify-center"},{default:s(()=>[i(N,{modelValue:m.page,"onUpdate:modelValue":[e[1]||(e[1]=t=>m.page=t),v],length:Math.ceil(a.total/a.itemsPerPage),color:"primary"},null,8,["modelValue","length"])]),_:1})]),_:1})):b("",!0)],64)):(o(),r(p,{key:1},[i(j,{class:"rounded-lg elevation-1 uniform-table",style:{width:"100%"}},{default:s(()=>[l("thead",null,[l("tr",null,[e[10]||(e[10]=l("th",{class:"font-weight-bold text-center uniform-col",style:{width:"80px"}},null,-1)),l("th",{class:"font-weight-bold text-center uniform-col cursor-pointer",style:{width:"80px"},onClick:e[2]||(e[2]=t=>y("folio"))},"Folio"),e[11]||(e[11]=l("th",{class:"font-weight-bold text-center uniform-col",style:{width:"72px"}},"Logo",-1)),l("th",{class:"font-weight-bold text-center uniform-col cursor-pointer",style:{width:"180px"},onClick:e[3]||(e[3]=t=>y("legal_name"))}," Nombre Legal "),l("th",{class:"font-weight-bold text-center uniform-col cursor-pointer",style:{width:"120px"},onClick:e[4]||(e[4]=t=>y("alias"))},"Alias"),l("th",{class:"font-weight-bold text-center uniform-col cursor-pointer",style:{width:"240px"},onClick:e[5]||(e[5]=t=>y("address"))}," Dirección "),e[12]||(e[12]=l("th",{class:"font-weight-bold text-center uniform-col",style:{width:"120px"}},"Estado",-1))])]),l("tbody",null,[(o(!0),r(p,null,w(a.items,t=>(o(),r("tr",{key:t.id,class:B(["row-clickable",{"selected-row":u(t.id)}]),style:{cursor:"pointer"},onClick:h=>_(t,h)},[l("td",R,[l("div",Q,[i(V,{"model-value":u(t.id),"onUpdate:modelValue":h=>g("toggle",t.id),color:"primary","hide-details":"",ripple:!1,class:"pa-0 ma-0 checkbox-compact",style:{"--v-checkbox-bg":"#1976d2","--v-checkbox-checked-color":"#fff"},onClick:e[6]||(e[6]=C(()=>{},["stop"]))},null,8,["model-value","onUpdate:modelValue"])])]),l("td",q,c(t.folio),1),l("td",G,[t.logo?(o(),d(x,{key:0,size:"48",class:"logo-avatar"},{default:s(()=>[l("img",{src:t.logo,alt:"Logo"},null,8,H)]),_:2},1024)):(o(),d(x,{key:1,size:"48",color:"grey lighten-2",class:"logo-avatar"},{default:s(()=>e[13]||(e[13]=[l("span",{style:{"font-size":"12px",color:"#888"}},"Sin logo",-1)])),_:1}))]),l("td",J,c(t.legal_name),1),l("td",K,c(t.alias),1),l("td",O,c(t.addressFormatted),1),l("td",W,[i(P,{status:t.status},null,8,["status"])])],10,I))),128)),a.items.length===0?(o(),r("tr",X,e[14]||(e[14]=[l("td",{colspan:"7",class:"text-center text-medium-emphasis"},"No hay ubicaciones disponibles.",-1)]))):b("",!0)])]),_:1}),Math.ceil(a.total/a.itemsPerPage)>1?(o(),d(k,{key:0},{default:s(()=>[i(f,{class:"d-flex justify-center"},{default:s(()=>[i(N,{modelValue:m.page,"onUpdate:modelValue":[e[7]||(e[7]=t=>m.page=t),v],length:Math.ceil(a.total/a.itemsPerPage),color:"primary"},null,8,["modelValue","length"])]),_:1})]),_:1})):b("",!0)],64))]))}},te=S(Y,[["__scopeId","data-v-b21613ea"]]);export{te as B};
